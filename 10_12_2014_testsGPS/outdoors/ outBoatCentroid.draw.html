<html><head><meta content="initial-scale=1.0, user-scalable=no"name="viewport"/><meta content="text/html; charset=utf-8"http-equiv="content-type"/><title>GMM-up</title><script src="http://maps.google.com/maps/api/js?sensor=false"type="text/javascript"></script><script src="http://code.jquery.com/jquery-latest.min.js"type="text/javascript"></script><script type="text/javascript">function initialize(){var destructableStuff={}
var jsonData=[{'data':[{'color':'000000','id':'data1','markers':[{'lat':'-27.5007626667','color':'000000','lon':'153.015598667'},{'lat':'-27.5007626667','color':'000000','lon':'153.015598667'},{'lat':'-27.5007635','color':'000000','lon':'153.015598167'},{'lat':'-27.5007646667','color':'000000','lon':'153.015597833'},{'lat':'-27.5007658333','color':'000000','lon':'153.0155975'},{'lat':'-27.5007671667','color':'000000','lon':'153.015597333'},{'lat':'-27.5007683333','color':'000000','lon':'153.015597'},{'lat':'-27.5007695','color':'000000','lon':'153.015597167'},{'lat':'-27.5007703333','color':'000000','lon':'153.015597'},{'lat':'-27.5007708333','color':'000000','lon':'153.015597'},{'lat':'-27.5007708333','color':'000000','lon':'153.015596667'},{'lat':'-27.5007713333','color':'000000','lon':'153.015596833'},{'lat':'-27.5007716667','color':'000000','lon':'153.0155965'},{'lat':'-27.5007715','color':'000000','lon':'153.015596333'},{'lat':'-27.5007716667','color':'000000','lon':'153.015596'},{'lat':'-27.500772','color':'000000','lon':'153.015596'},{'lat':'-27.500772','color':'000000','lon':'153.015596167'},{'lat':'-27.5007713333','color':'000000','lon':'153.015595833'},{'lat':'-27.5007711667','color':'000000','lon':'153.015596'},{'lat':'-27.5007708333','color':'000000','lon':'153.015596167'},{'lat':'-27.5007711667','color':'000000','lon':'153.015596'},{'lat':'-27.5007716667','color':'000000','lon':'153.015595833'},{'lat':'-27.5007716667','color':'000000','lon':'153.015595'},{'lat':'-27.5007716667','color':'000000','lon':'153.015595667'},{'lat':'-27.500771','color':'000000','lon':'153.015596'},{'lat':'-27.50077','color':'000000','lon':'153.015596333'},{'lat':'-27.5007703333','color':'000000','lon':'153.015597333'},{'lat':'-27.5007693333','color':'000000','lon':'153.015599167'},{'lat':'-27.5007696667','color':'000000','lon':'153.015600833'},{'lat':'-27.50077','color':'000000','lon':'153.0156025'},{'lat':'-27.5007695','color':'000000','lon':'153.015604'},{'lat':'-27.500768','color':'000000','lon':'153.015604333'},{'lat':'-27.5007678333','color':'000000','lon':'153.0156055'},{'lat':'-27.5007676667','color':'000000','lon':'153.015605667'},{'lat':'-27.5007673333','color':'000000','lon':'153.015606'},{'lat':'-27.5007661667','color':'000000','lon':'153.015605667'},{'lat':'-27.5007663333','color':'000000','lon':'153.015606667'},{'lat':'-27.5007665','color':'000000','lon':'153.015606833'},{'lat':'-27.5007668333','color':'000000','lon':'153.015606833'},{'lat':'-27.5007663333','color':'000000','lon':'153.015606833'},{'lat':'-27.5007661667','color':'000000','lon':'153.0156065'},{'lat':'-27.5007651667','color':'000000','lon':'153.0156055'},{'lat':'-27.5007648333','color':'000000','lon':'153.015605167'},{'lat':'-27.5007633333','color':'000000','lon':'153.015604'},{'lat':'-27.5007615','color':'000000','lon':'153.015602'},{'lat':'-27.5007606667','color':'000000','lon':'153.015600833'},{'lat':'-27.5007606667','color':'000000','lon':'153.015600167'},{'lat':'-27.5007596667','color':'000000','lon':'153.0155995'},{'lat':'-27.5007608333','color':'000000','lon':'153.0155995'},{'lat':'-27.5007598333','color':'000000','lon':'153.015599167'},{'lat':'-27.5007588333','color':'000000','lon':'153.0155985'},{'lat':'-27.5007576667','color':'000000','lon':'153.015598333'},{'lat':'-27.5007573333','color':'000000','lon':'153.015598333'},{'lat':'-27.5007578333','color':'000000','lon':'153.015598167'},{'lat':'-27.5007575','color':'000000','lon':'153.015597833'},{'lat':'-27.5007571667','color':'000000','lon':'153.015597167'},{'lat':'-27.5007571667','color':'000000','lon':'153.015597333'},{'lat':'-27.500757','color':'000000','lon':'153.0155965'},{'lat':'-27.5007573333','color':'000000','lon':'153.015596667'},{'lat':'-27.5007576667','color':'000000','lon':'153.015596667'},{'lat':'-27.5007578333','color':'000000','lon':'153.015596667'},{'lat':'-27.5007578333','color':'000000','lon':'153.015596333'},{'lat':'-27.5007578333','color':'000000','lon':'153.015595667'},{'lat':'-27.5007583333','color':'000000','lon':'153.015595333'},{'lat':'-27.500759','color':'000000','lon':'153.015594833'},{'lat':'-27.5007596667','color':'000000','lon':'153.015594667'},{'lat':'-27.5007606667','color':'000000','lon':'153.015594833'},{'lat':'-27.5007611667','color':'000000','lon':'153.015594667'},{'lat':'-27.5007608333','color':'000000','lon':'153.015594'},{'lat':'-27.5007606667','color':'000000','lon':'153.015593667'},{'lat':'-27.5007603333','color':'000000','lon':'153.015593333'},{'lat':'-27.50076','color':'000000','lon':'153.015593167'},{'lat':'-27.5007596667','color':'000000','lon':'153.015592667'},{'lat':'-27.5007591667','color':'000000','lon':'153.015592167'},{'lat':'-27.5007591667','color':'000000','lon':'153.015592167'},{'lat':'-27.5007586667','color':'000000','lon':'153.015592167'},{'lat':'-27.5007588333','color':'000000','lon':'153.015592667'},{'lat':'-27.5007588333','color':'000000','lon':'153.015593'},{'lat':'-27.5007581667','color':'000000','lon':'153.015593'},{'lat':'-27.5007575','color':'000000','lon':'153.015593333'},{'lat':'-27.5007563333','color':'000000','lon':'153.015593167'},{'lat':'-27.5007556667','color':'000000','lon':'153.015592833'},{'lat':'-27.5007548333','color':'000000','lon':'153.015592333'},{'lat':'-27.5007541667','color':'000000','lon':'153.015591833'},{'lat':'-27.5007536667','color':'000000','lon':'153.015592'},{'lat':'-27.5007531667','color':'000000','lon':'153.015591833'},{'lat':'-27.5007523333','color':'000000','lon':'153.0155915'},{'lat':'-27.5007515','color':'000000','lon':'153.015591'},{'lat':'-27.5007503333','color':'000000','lon':'153.015591'},{'lat':'-27.5007493333','color':'000000','lon':'153.015591167'},{'lat':'-27.500749','color':'000000','lon':'153.015591833'},{'lat':'-27.5007486667','color':'000000','lon':'153.015592333'},{'lat':'-27.5007481667','color':'000000','lon':'153.015592333'},{'lat':'-27.500748','color':'000000','lon':'153.015592167'},{'lat':'-27.5007476667','color':'000000','lon':'153.015592333'},{'lat':'-27.5007475','color':'000000','lon':'153.015592333'},{'lat':'-27.5007471667','color':'000000','lon':'153.015592333'},{'lat':'-27.500747','color':'000000','lon':'153.015592333'},{'lat':'-27.5007468333','color':'000000','lon':'153.015592667'},{'lat':'-27.500747','color':'000000','lon':'153.0155925'},{'lat':'-27.5007471667','color':'000000','lon':'153.015592667'},{'lat':'-27.5007471667','color':'000000','lon':'153.0155925'},{'lat':'-27.5007475','color':'000000','lon':'153.015592667'},{'lat':'-27.5007478333','color':'000000','lon':'153.015592833'},{'lat':'-27.5007481667','color':'000000','lon':'153.015592833'},{'lat':'-27.5007486667','color':'000000','lon':'153.015592833'},{'lat':'-27.5007491667','color':'000000','lon':'153.015593'},{'lat':'-27.5007496667','color':'000000','lon':'153.015593167'},{'lat':'-27.5007498333','color':'000000','lon':'153.015593167'},{'lat':'-27.50075','color':'000000','lon':'153.015593167'},{'lat':'-27.5007501667','color':'000000','lon':'153.015593333'},{'lat':'-27.5007506667','color':'000000','lon':'153.015593333'},{'lat':'-27.500751','color':'000000','lon':'153.0155935'},{'lat':'-27.5007515','color':'000000','lon':'153.015593667'},{'lat':'-27.500752','color':'000000','lon':'153.015594'},{'lat':'-27.5007521667','color':'000000','lon':'153.015594167'},{'lat':'-27.5007525','color':'000000','lon':'153.015594333'},{'lat':'-27.5007528333','color':'000000','lon':'153.0155945'},{'lat':'-27.5007528333','color':'000000','lon':'153.015594667'},{'lat':'-27.500753','color':'000000','lon':'153.015595'},{'lat':'-27.500753','color':'000000','lon':'153.015595333'},{'lat':'-27.5007531667','color':'000000','lon':'153.0155955'},{'lat':'-27.5007535','color':'000000','lon':'153.015595833'},{'lat':'-27.5007536667','color':'000000','lon':'153.015596'},{'lat':'-27.5007538333','color':'000000','lon':'153.015596333'},{'lat':'-27.5007536667','color':'000000','lon':'153.015596667'},{'lat':'-27.5007535','color':'000000','lon':'153.015596667'},{'lat':'-27.5007535','color':'000000','lon':'153.015596833'},{'lat':'-27.5007533333','color':'000000','lon':'153.015597'},{'lat':'-27.5007533333','color':'000000','lon':'153.015597167'},{'lat':'-27.5007533333','color':'000000','lon':'153.0155975'},{'lat':'-27.5007531667','color':'000000','lon':'153.015597667'},{'lat':'-27.5007528333','color':'000000','lon':'153.015597667'},{'lat':'-27.5007526667','color':'000000','lon':'153.015597667'},{'lat':'-27.5007525','color':'000000','lon':'153.015597667'},{'lat':'-27.500752','color':'000000','lon':'153.015597667'},{'lat':'-27.5007518333','color':'000000','lon':'153.015597833'},{'lat':'-27.5007515','color':'000000','lon':'153.015597833'},{'lat':'-27.5007515','color':'000000','lon':'153.015598'},{'lat':'-27.5007516667','color':'000000','lon':'153.015598'},{'lat':'-27.5007516667','color':'000000','lon':'153.015598'},{'lat':'-27.5007515','color':'000000','lon':'153.015598'},{'lat':'-27.5007515','color':'000000','lon':'153.015597833'},{'lat':'-27.5007511667','color':'000000','lon':'153.015597833'},{'lat':'-27.5007508333','color':'000000','lon':'153.015597667'},{'lat':'-27.5007505','color':'000000','lon':'153.0155975'},{'lat':'-27.5007501667','color':'000000','lon':'153.0155975'},{'lat':'-27.5007501667','color':'000000','lon':'153.015597333'},{'lat':'-27.50075','color':'000000','lon':'153.015597167'},{'lat':'-27.5007498333','color':'000000','lon':'153.015597'},{'lat':'-27.5007498333','color':'000000','lon':'153.015596833'},{'lat':'-27.5007498333','color':'000000','lon':'153.015597'},{'lat':'-27.5007498333','color':'000000','lon':'153.015596833'},{'lat':'-27.5007498333','color':'000000','lon':'153.015596667'},{'lat':'-27.5007498333','color':'000000','lon':'153.015596667'},{'lat':'-27.50075','color':'000000','lon':'153.015596833'},{'lat':'-27.50075','color':'000000','lon':'153.015596833'},{'lat':'-27.5007501667','color':'000000','lon':'153.015596833'},{'lat':'-27.5007501667','color':'000000','lon':'153.015597'},{'lat':'-27.5007501667','color':'000000','lon':'153.015597'},{'lat':'-27.5007503333','color':'000000','lon':'153.015597'},{'lat':'-27.5007503333','color':'000000','lon':'153.015596833'},{'lat':'-27.5007501667','color':'000000','lon':'153.015597'},{'lat':'-27.50075','color':'000000','lon':'153.015597'},{'lat':'-27.50075','color':'000000','lon':'153.015597'},{'lat':'-27.50075','color':'000000','lon':'153.015597167'},{'lat':'-27.5007503333','color':'000000','lon':'153.015597167'},{'lat':'-27.5007503333','color':'000000','lon':'153.015597'},{'lat':'-27.50075','color':'000000','lon':'153.015596833'},{'lat':'-27.5007496667','color':'000000','lon':'153.0155965'},{'lat':'-27.5007495','color':'000000','lon':'153.0155965'},{'lat':'-27.5007493333','color':'000000','lon':'153.015596333'},{'lat':'-27.500749','color':'000000','lon':'153.015596333'},{'lat':'-27.500749','color':'000000','lon':'153.015596333'},{'lat':'-27.5007488333','color':'000000','lon':'153.0155965'},{'lat':'-27.5007486667','color':'000000','lon':'153.015596333'},{'lat':'-27.5007486667','color':'000000','lon':'153.015596333'},{'lat':'-27.5007485','color':'000000','lon':'153.015596333'},{'lat':'-27.5007485','color':'000000','lon':'153.015596333'},{'lat':'-27.5007485','color':'000000','lon':'153.015596167'},{'lat':'-27.5007485','color':'000000','lon':'153.015596167'},{'lat':'-27.5007483333','color':'000000','lon':'153.015596'},{'lat':'-27.500748','color':'000000','lon':'153.015595667'},{'lat':'-27.5007478333','color':'000000','lon':'153.015595333'},{'lat':'-27.5007476667','color':'000000','lon':'153.015595'},{'lat':'-27.5007476667','color':'000000','lon':'153.015594667'},{'lat':'-27.5007476667','color':'000000','lon':'153.015594333'},{'lat':'-27.5007476667','color':'000000','lon':'153.015594167'},{'lat':'-27.5007478333','color':'000000','lon':'153.015594'},{'lat':'-27.5007','color':'ffff00','text':'Center','lon':'153.0157','title':'Center'}],'title':'Points'},{'color':'b22222','id':'Centroid','markers':[{'lat':'-27.5007562108','color':'b22222','text':'Centroid \n RMSE 8.54684530425e-06','lon':'153.015596445','title':'Centroid'}],'title':'Centroid'}],'id':'test1','title':'Test #1'}];var metaTags=['title','id','options']; $("input:checkbox").each(function(index){this.checked=false;});var centerlatlng=new google.maps.LatLng(-27.5007,153.0157);var myOptions={zoom:20,center:centerlatlng,mapTypeId:google.maps.MapTypeId.ROADMAP};var infowindow=new google.maps.InfoWindow({content:'Nothing to say, yet'});var map=new google.maps.Map(document.getElementById("map_canvas"),myOptions);function handleOptionToggle(type,app){if($("input[data-type='"+type+"']").is(':checked')){$.getJSON("data/?&type="+type+"&app="+app,function(data){alert("todo: push this data into jsonData");}).always(function(){var appHash={};$.each(jsonData,function(index,app_hash){ if(app_hash['id']===app){appHash=app_hash;}});var dataHash={};$.each(appHash['data'],function(index,data_hash){ if(data_hash['id']===type){dataHash=data_hash;}});$.each(dataHash,function(shape,shapeHash){if(shape=="polygons"){$.each(shapeHash,function(index,polygonHash){$.each(polygonHash["polygon"],function(index,coordArray){var coords=[]
$.each(coordArray,function(index,coordSets){var coordSet=[]
$.each(coordSets,function(index,coordPair){coordSet.push(new google.maps.LatLng(coordPair[0],coordPair[1]))});coords.push(coordSet)});var polygon=new google.maps.Polygon({clickable:false,goedesic:true,strokeOpacity:1.0,strokeWeight:1,fillColor:polygonHash["fillColor"],fillOpacity:polygonHash["fillOpacity"],strokeColor:polygonHash["strokeColor"],paths:coords});polygon.setMap(map);if(!(app in destructableStuff)){destructableStuff[app]={}}
if(!(type in destructableStuff[app])){destructableStuff[app][type]=[]}
destructableStuff[app][type].push(polygon);});});}
if(shape=="markers"){$.each(shapeHash,function(index,pointHash){var latlng=new google.maps.LatLng(pointHash['lat'],pointHash['lon']);var img=new google.maps.MarkerImage('http://chart.apis.google.com/chart?cht=mm&chs=12x16&chco=FFFFFF,'+pointHash['color']+',000000&ext=.png');var marker=new google.maps.Marker({icon:img,position:latlng,map:map,title:null
}); if(!(typeof pointHash['title']==='undefined')){marker['title']=pointHash['title'];} 
if(!(typeof pointHash['text']==='undefined')){google.maps.event.addListener(marker,'click',function(){ infowindow.setContent(pointHash['text']);infowindow.open(map,marker);});}
if(!(app in destructableStuff)){destructableStuff[app]={}}
if(!(type in destructableStuff[app])){destructableStuff[app][type]=[]}
destructableStuff[app][type].push(marker);});};if(shape=="lines"){$.each(shapeHash,function(index,pathHash){var path=[];$.each(pathHash['path'],function(index,latlng){path.push(new google.maps.LatLng(latlng[0],latlng[1]));});var polyline=new google.maps.Polyline({path:path,strokeColor:pathHash['color'],map:map,geodesic:true,strokeWeight:2,editable:false,});if(!(typeof pathHash['editable']==='undefined')){polyline['editable']=(pathHash['editable']==='true');}
if(!(app in destructableStuff)){destructableStuff[app]={}}
if(!(type in destructableStuff[app])){destructableStuff[app][type]=[]}
destructableStuff[app][type].push(polyline);});};});});}
else{$.each(destructableStuff[app][type],function(index,shape){shape.setMap(null);})}}
function handleAppToggle(app){if($("input[data-type='"+app+"']").is(':checked')){var appHash={};$.each(jsonData,function(index,app_hash){ if(app_hash['id']===app){appHash=app_hash;}});$.each(appHash['data'],function(index,dataHash){if($.inArray(dataHash['id'],metaTags)===-1){var color=dataHash['color']
if(typeof dataHash['title']==='undefined'){title=dataHash['id'];}
else{title=dataHash['title'];};$("#"+app+"_app_list").append("<li>\
              <span class='color-box' style='background:"+color+";'></span>\
              <input type='checkbox' data-type='"+dataHash['id']+"' class='map-option-"+app+"'>"+title+"\
            </li>");};});$(".map-option-"+app).click(function(){handleOptionToggle($(this).attr("data-type"),app)});destructableStuff[app]={}}
else{$("#"+app+"_app_list").html("");$.each(destructableStuff[app],function(index,option){$.each(destructableStuff[app][index],function(index,shape){shape.setMap(null);})})}} 
$.getJSON("apps/",function(data){}).always(function(){$.each(jsonData,function(index,appHash){var appId=appHash['id'];if(typeof(appHash['title'])==='undefined'){var appTitle=appHash['id'];}
else{var appTitle=appHash['title'];}
$("#map_interface_apps").append("<li>\
            <input type='checkbox' data-type='"+appId+"' class='app-option'>"+appTitle+"\
            <ul id='"+appId+"_app_list' class='options'></ul>\
          </li");});$(".app-option").click(function(){handleAppToggle($(this).attr("data-type"))});if(jsonData.length==1){var appName=jsonData[0]['id']
$("input[data-type="+appName+"]").prop("checked",true);handleAppToggle(appName);};});}
google.maps.event.addListener(map,'click',function(event){alert(event.latLng);});</script><style type="text/css">body{font-family:Arial,Helvetica,sans-serif;font-weight:bold;font-size:12px;}.map-interface{position:fixed;top:50px;right:7px;z-index:500;height:400px;overflow:auto;}.map-canvas{width:100%;height:100%;}.options{list-style-type:none;padding:0;margin:0;width:150px;overflow:auto;}.color-box{display:inline-block;height:10px;width:10px;border:thin solid#000;}.apps{background:#FFF;padding:14px;box-shadow:0 0 2px 1px#ccc;}</style></head><body onload="initialize()"style="margin:0px; padding:0px;"><div class="map-interface"id="map_interface"><ul class="apps options"id="map_interface_apps"></ul></div><div class="map-canvas"id="map_canvas"></div></body></html>